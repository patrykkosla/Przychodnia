<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <ui:composition >
        <h:form id="patientsListViewForm">
            <p:dataTable
                id="patientsListTable"
                value="#{patientsListBean.patiensList}"
                var="patinet"
                selection="#{patientsListBean.selectedPatient}"
                selectionMode="singel"
                rowKey="#{patinet.patientId}"
                lazy="true"
                >
                <p:ajax event="rowSelect"   update="selectpatientbutton"/>
                <p:ajax event="rowUnselect" update="selectpatientbutton"/>
                <p:column headerText="Imie">
                    <h:outputText value="#{patinet.firstName}"/>
                </p:column>
                <p:column headerText="Nazwisko">
                    <h:outputText value="#{patinet.lastName}"/>
                </p:column>    
                <p:column headerText="Adres">
                    <h:outputText value="#{patinet.addresId.place} #{patinet.addresId.street}"/>
                </p:column>
                <f:facet name="footer">
                    <p:commandButton 
                        id="selectpatientbutton"
                        value="Wybierz"
                        action="#{doctorBean.prepatePatientView(patientsListBean.selectedPatient)}"
                        disabled="#{empty patientsListBean.selectedPatient}"
                        />

                </f:facet>


            </p:dataTable>

        </h:form>
    </ui:composition>
</html>
